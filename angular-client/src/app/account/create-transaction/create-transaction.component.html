<div class="main">
	<div class="content">		
		<h3 class="accounts">Create transaction</h3>
		<form [formGroup]="trxForm" (ngSubmit)="onSubmit()">		
			<div class="column">
				<div class="row">
					<mat-form-field class="executedAt" appearance="outline">
					  <label i18n>Transaction date</label>
					  <input matInput [matDatepicker]="datepicker" formControlName="executedAt">
					  <mat-datepicker-toggle matSuffix [for]="datepicker"></mat-datepicker-toggle>
					  <mat-datepicker #datepicker></mat-datepicker>
					</mat-form-field>
				</div>
				<div class="row">
					<mat-form-field class="description" appearance="outline" >
						<label i18n>Description </label>
						<input matInput type="text" formControlName="description">
					</mat-form-field>
				</div>
				<div class="grid">
					<div class="head">Account</div>
					<div class="head debit">Debit</div>
					<div class="head credit">Credit</div>
					<div class="head divider"></div>
					<div class="head">Account</div>
					<div class="head debit">Debit</div>
					<div class="head credit">Credit</div>
					<div class="head-button"><button mat-icon-button type='button' (click)="addRow()" i18n><mat-icon aria-label="Add line item">add</mat-icon></button></div>
					<ng-container formArrayName="entries">
						<ng-container class="entry" *ngFor="let entryForm of entryControls; let i = index" [formGroup]="entryForm">
								<input matInput type="text" formControlName="account">
								<input matInput type="number" class="debit" formControlName="debit">
								<input matInput type="number" class="credit" formControlName="credit">
							<div *ngIf="i % 2 == 0" class="divider"></div>
							<button  *ngIf="i % 2 == 1" (click)="removeRow(i-1)" mat-icon-button type='button'> <mat-icon aria-label="Delete line item">delete</mat-icon> </button>
						</ng-container>
					</ng-container>
				</div>
				<div class="button-row">
					<button mat-raised-button  color="primary" type="submit" [disabled]="!trxForm.valid">Add</button>
				</div>
			</div>
		</form>	
	</div>
</div>